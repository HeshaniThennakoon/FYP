@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Sign Up</title>
    <link rel="stylesheet" href="~/css/signup.css" />
</head>
<body>
    <div class="signup-container">
        <div class="signup-box">

            <!-- Role Toggle -->
            <div class="role-toggle">
                <button type="button" class="role-btn active" data-role="student">Student</button>
                <button type="button" class="role-btn" data-role="teacher">Teacher</button>
            </div>

            <h2>SIGN UP</h2>

            <!-- STUDENT FORM -->
            <form method="post" enctype="multipart/form-data" asp-controller="Account" asp-action="SignUp" id="studentForm">
                <input type="hidden" name="role" value="student" />

                <div class="form-section">
                    <div class="form-left">
                        <label for="student_name">Full Name</label>
                        <input id="student_name" type="text" name="student_name" placeholder="Enter full name" required />

                        <label for="regNo">Registration No</label>
                        <input id="regNo" type="text" name="regNo" placeholder="EG/xx/yyyy" required />

                        <label for="academicYear">Academic Year</label>
                        <input id="academicYear" type="text" name="academicYear" placeholder="e.g., 2022/2023" required />

                        <label for="batch">Batch</label>
                        <input id="batch" type="text" name="batch" placeholder="e.g., 21" required />

                        <label for="department">Department</label>
                        <input id="department" type="text" name="department" placeholder="e.g., Software Engineering" required />

                        <label for="student_email">Email Address</label>
                        <input id="student_email" type="email" name="student_email" placeholder="Enter your email" required />

                        <label for="student_phone">Phone No</label>
                        <input id="student_phone" type="tel" name="student_phone" placeholder="07xxxxxxxx" required />
                    </div>

                    <div class="form-right">
                        <div class="profile-pic">
                            <img id="previewStudent" src="" alt="Profile Picture" />
                            <span id="profileTextStudent">Profile</span>
                        </div>
                        <label class="upload-btn">
                            Upload
                            <input type="file" name="student_profilePic" accept="image/*" hidden onchange="previewImage(event,'Student')" />
                        </label>
                        <button type="submit" class="signup-btn">Sign Up</button>
                    </div>
                </div>
            </form>

            <!-- TEACHER FORM -->
            <form method="post" enctype="multipart/form-data" asp-controller="Account" asp-action="SignUp" id="teacherForm" style="display:none;">
                <input type="hidden" name="role" value="teacher" />

                <div class="form-section">
                    <div class="form-left">
                        <label for="teacher_name">Full Name</label>
                        <input id="teacher_name" type="text" name="teacher_name" placeholder="Enter full name" required />

                        <label for="teacherId">Teacher ID</label>
                        <input id="teacherId" type="text" name="teacherId" placeholder="e.g., L001" required />

                        <label for="teacher_department">Department</label>
                        <input id="teacher_department" type="text" name="teacher_department" placeholder="e.g., Computer Science" required />

                        <label for="teacher_email">Email Address</label>
                        <input id="teacher_email" type="email" name="teacher_email" placeholder="Enter your email" required />

                        <label for="teacher_phone">Phone No</label>
                        <input id="teacher_phone" type="tel" name="teacher_phone" placeholder="07xxxxxxxx" required />
                    </div>

                    <div class="form-right">
                        <div class="profile-pic">
                            <img id="previewTeacher" src="" alt="Profile Picture" />
                            <span id="profileTextTeacher">Profile</span>
                        </div>
                        <label class="upload-btn">
                            Upload
                            <input type="file" name="teacher_profilePic" accept="image/*" hidden onchange="previewImage(event,'Teacher')" />
                        </label>
                        <button type="submit" class="signup-btn">Sign Up</button>
                    </div>
                </div>
            </form>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const roleButtons = document.querySelectorAll(".role-btn");
            const studentForm = document.getElementById("studentForm");
            const teacherForm = document.getElementById("teacherForm");

            function switchRole(selectedRole) {
                roleButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.role === selectedRole));

                if (selectedRole === 'student') {
                    studentForm.style.display = 'block';
                    teacherForm.style.display = 'none';
                } else {
                    studentForm.style.display = 'none';
                    teacherForm.style.display = 'block';
                }
            }

            roleButtons.forEach(btn => btn.addEventListener('click', () => switchRole(btn.dataset.role)));

            window.previewImage = function(event, type) {
                const file = event.target.files[0];
                if (!file) return;
                const output = document.getElementById(`preview${type}`);
                const text = document.getElementById(`profileText${type}`);
                output.src = URL.createObjectURL(file);
                output.style.display = 'block';
                text.style.display = 'none';
            };

            // Default: show student form
            switchRole('student');
        });
    </script>
</body>
</html>
